# SaaS Video Recorder Chrome Extension

一个用于录制SaaS产品演示视频并添加自定义背景的Chrome扩展。

## 功能特性

- 🎥 录制当前标签页内容
- 🎨 添加5种预设背景颜色
- 📱 简洁的用户界面
- 💾 自动下载处理后的视频
- ⌨️ 键盘快捷键支持

## 安装方法

### 开发模式安装

1. 打开Chrome浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择本项目的根目录

### 使用方法

1. 点击浏览器工具栏中的扩展图标
2. 点击"开始录制"按钮
3. 选择要录制的屏幕/窗口/标签页
4. 录制完成后点击"停止录制"
5. 选择喜欢的背景颜色
6. 点击"应用背景"或"直接下载"

## 项目结构

```
├── manifest.json          # 扩展配置文件
├── popup/                 # 弹窗界面
│   ├── popup.html        # 主界面HTML
│   ├── popup.css         # 样式文件
│   ├── popup.js          # 主控制逻辑
│   ├── videoRecorder.js  # 视频录制模块
│   ├── fileManager.js    # 文件管理模块
│   └── backgroundProcessor.js # 背景处理模块
├── background/           # 后台脚本
│   └── background.js     # Service Worker
└── assets/              # 资源文件
    └── README.md        # 图标说明
```

## 开发说明

### 测试功能

打开 `test.html` 文件可以测试背景处理模块的基础功能。

### 技术栈

- Chrome Extension Manifest V3
- MediaRecorder API
- Canvas API
- Chrome Desktop Capture API
- Chrome Downloads API

### 浏览器兼容性

- Chrome 88+
- Edge 88+
- 其他基于Chromium的浏览器

## 故障排除

### 常见问题快速解决

**录制启动失败**：
1. 打开 `chrome://extensions/`
2. 找到本扩展，点击刷新按钮
3. 确保扩展已启用
4. 重新尝试录制

**权限问题**：
- 确保Chrome版本为88+
- 检查扩展权限配置
- 尝试在无痕模式下使用

**视频处理失败**：
- 选择"直接下载"跳过背景处理
- 关闭其他浏览器标签页释放内存
- 尝试录制较短的视频

详细的故障排除指南请参考：[TROUBLESHOOTING.md](TROUBLESHOOTING.md)

## 测试和验证

### 测试页面

项目包含多个测试页面用于验证不同功能：

1. **comprehensive-test.html** - 综合测试平台
   - 系统兼容性检查
   - 性能基准测试
   - 错误处理验证
   - 用户体验测试

2. **workflow-test.html** - 工作流程测试
   - 状态转换验证
   - 初始化测试
   - 验证功能测试

3. **error-handling-test.html** - 错误处理测试
   - 各种错误场景模拟
   - 用户反馈测试
   - 帮助系统验证

4. **test.html** - 基础功能测试
   - 背景处理模块测试
   - MIME类型检测
   - 配置验证

### 性能优化

项目集成了性能监控和优化功能：

- **内存使用监控** - 实时监控内存使用情况
- **性能基准测试** - 评估录制和处理性能
- **浏览器兼容性检查** - 自动检测API支持情况
- **网络状态监控** - 适配不同网络环境
- **错误统计和分析** - 智能错误分类和解决建议

### 使用建议

**最佳实践**:
- 录制时长建议控制在5分钟以内
- 关闭不必要的浏览器标签页释放内存
- 使用Chrome 88+或Edge 88+获得最佳体验
- 确保有足够的磁盘空间存储视频文件

**性能优化**:
- 系统内存建议4GB以上
- CPU建议4核心以上
- 网络连接建议3G以上

## 开发状态

当前版本: MVP v1.0.0 ✅

**已完成功能**:
- ✅ 基础录制功能 (Chrome Extension API集成)
- ✅ 背景选择界面 (5种预设背景 + 键盘导航)
- ✅ 视频背景处理 (Canvas API实时合成)
- ✅ 文件下载管理 (双重下载策略)
- ✅ 错误处理系统 (智能错误分析 + 解决方案)
- ✅ 用户反馈机制 (操作指导 + 反馈收集)
- ✅ 性能优化 (内存监控 + 性能基准)
- ✅ 综合测试套件 (兼容性 + 功能 + 性能测试)

**技术特性**:
- 🎥 支持标签页/窗口/屏幕录制
- 🎨 实时背景合成和预览
- 📱 响应式界面设计
- ⌨️ 完整键盘导航支持
- 🔄 智能错误恢复机制
- 📊 性能监控和优化建议
- 🧪 完整的测试覆盖

**代码质量**:
- 模块化架构设计
- 完整的错误处理
- 详细的代码注释
- 性能优化实现
- 无障碍功能支持

## 许可证

MIT License