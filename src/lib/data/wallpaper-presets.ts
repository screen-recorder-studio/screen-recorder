// Built-in wallpaper preset configurations
import type { ImagePreset } from '$lib/types/background'

// Wallpaper preset data
export const WALLPAPER_PRESETS: ImagePreset[] = [
  {
    id: 'gradient-abstract-1',
    name: 'wallpaper_gradient_abstract_1_name',
    description: 'wallpaper_gradient_abstract_1_desc',
    imageUrl: '/wallpapers/gradient-7206609_1920.webp',
    config: {
      fit: 'cover',
      position: 'center',
      opacity: 1,
      blur: 0,
      scale: 1,
      offsetX: 0,
      offsetY: 0
    },
    category: 'abstract',
    tags: ['gradient', 'abstract', 'modern', 'tech']
  },
  {
    id: 'geometric-pattern-1',
    name: 'wallpaper_geometric_pattern_1_name',
    description: 'wallpaper_geometric_pattern_1_desc',
    imageUrl: '/wallpapers/the-background-302467_1920.webp',
    config: {
      fit: 'cover',
      position: 'center',
      opacity: 1,
      blur: 0,
      scale: 1,
      offsetX: 0,
      offsetY: 0
    },
    category: 'minimal',
    tags: ['geometric', 'pattern', 'minimal', 'business']
  },
  // Additional wallpapers (from static/wallpapers)
  {
    id: 'abstract-2425706',
    name: 'wallpaper_abstract_2425706_name',
    description: 'wallpaper_abstract_2425706_desc',
    imageUrl: '/wallpapers/abstract-2425706.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'abstract',
    tags: ['abstract', 'colors', 'texture']
  },
  {
    id: 'abstract-2512412',
    name: 'wallpaper_abstract_2512412_name',
    description: 'wallpaper_abstract_2512412_desc',
    imageUrl: '/wallpapers/abstract-2512412.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'abstract',
    tags: ['abstract', 'gradient', 'artistic']
  },
  {
    id: 'abstract-6297317',
    name: 'wallpaper_abstract_6297317_name',
    description: 'wallpaper_abstract_6297317_desc',
    imageUrl: '/wallpapers/abstract-6297317.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'abstract',
    tags: ['abstract', 'geometric', 'modern']
  },
  {
    id: 'ai-generated-9083808',
    name: 'wallpaper_ai_generated_9083808_name',
    description: 'wallpaper_ai_generated_9083808_desc',
    imageUrl: '/wallpapers/ai-generated-9083808.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'tech',
    tags: ['AI', 'technology', 'futuristic', 'abstract']
  },
  {
    id: 'beach-4938036',
    name: 'wallpaper_beach_4938036_name',
    description: 'wallpaper_beach_4938036_desc',
    imageUrl: '/wallpapers/beach-4938036.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['beach', 'waves', 'nature']
  },
  {
    id: 'bulb-5665770',
    name: 'wallpaper_bulb_5665770_name',
    description: 'wallpaper_bulb_5665770_desc',
    imageUrl: '/wallpapers/bulb-5665770.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'business',
    tags: ['inspiration', 'creativity', 'business']
  },
  {
    id: 'cpu-8892400',
    name: 'wallpaper_cpu_8892400_name',
    description: 'wallpaper_cpu_8892400_desc',
    imageUrl: '/wallpapers/cpu-8892400.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'tech',
    tags: ['chip', 'circuit', 'technology']
  },
  {
    id: 'feather-5488401',
    name: 'wallpaper_feather_5488401_name',
    description: 'wallpaper_feather_5488401_desc',
    imageUrl: '/wallpapers/feather-5488401.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['feather', 'texture', 'nature']
  },
  {
    id: 'fractal-8902060',
    name: 'wallpaper_fractal_8902060_name',
    description: 'wallpaper_fractal_8902060_desc',
    imageUrl: '/wallpapers/fractal-8902060.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'abstract',
    tags: ['fractal', 'abstract', 'artistic']
  },
  {
    id: 'orange-3036097',
    name: 'wallpaper_orange_3036097_name',
    description: 'wallpaper_orange_3036097_desc',
    imageUrl: '/wallpapers/orange-3036097.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['fruit', 'orange', 'fresh']
  },
  {
    id: 'orange-6508617',
    name: 'wallpaper_orange_6508617_name',
    description: 'wallpaper_orange_6508617_desc',
    imageUrl: '/wallpapers/orange-6508617.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['orange', 'bright', 'fruit']
  },
  {
    id: 'polar-lights-5858656',
    name: 'wallpaper_polar_lights_5858656_name',
    description: 'wallpaper_polar_lights_5858656_desc',
    imageUrl: '/wallpapers/polar-lights-5858656.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['aurora', 'night sky', 'nature']
  },
  {
    id: 'spiral-3112405',
    name: 'wallpaper_spiral_3112405_name',
    description: 'wallpaper_spiral_3112405_desc',
    imageUrl: '/wallpapers/spiral-3112405.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'abstract',
    tags: ['spiral', 'abstract', 'texture']
  },
  {
    id: 'steelwool-458842',
    name: 'wallpaper_steelwool_458842_name',
    description: 'wallpaper_steelwool_458842_desc',
    imageUrl: '/wallpapers/steelwool-458842.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'abstract',
    tags: ['light painting', 'long exposure', 'abstract']
  },
  {
    id: 'swimming-pool-8306716',
    name: 'wallpaper_swimming_pool_8306716_name',
    description: 'wallpaper_swimming_pool_8306716_desc',
    imageUrl: '/wallpapers/swimming-pool-8306716.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['water', 'summer', 'fresh']
  },
  // Presets: pre directory
  {
    id: 'abstract-2426502',
    name: 'wallpaper_abstract_2426502_name',
    description: 'wallpaper_abstract_2426502_desc',
    imageUrl: '/wallpapers/abstract-2426502.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'abstract',
    tags: ['abstract', 'colors', 'shapes']
  },
  {
    id: 'camera-1248682',
    name: 'wallpaper_camera_1248682_name',
    description: 'wallpaper_camera_1248682_desc',
    imageUrl: '/wallpapers/camera-1248682.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'tech',
    tags: ['camera', 'photography', 'technology']
  },
  {
    id: 'circle-5090539',
    name: 'wallpaper_circle_5090539_name',
    description: 'wallpaper_circle_5090539_desc',
    imageUrl: '/wallpapers/circle-5090539.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'minimal',
    tags: ['circular', 'geometric', 'minimal']
  },
  {
    id: 'feather-7009025',
    name: 'wallpaper_feather_7009025_name',
    description: 'wallpaper_feather_7009025_desc',
    imageUrl: '/wallpapers/feather-7009025.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['feather', 'nature', 'texture']
  },
  {
    id: 'fiber-4814456',
    name: 'wallpaper_fiber_4814456_name',
    description: 'wallpaper_fiber_4814456_desc',
    imageUrl: '/wallpapers/fiber-4814456.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'tech',
    tags: ['fiber optic', 'lines', 'technology']
  },
  {
    id: 'frost-6702335',
    name: 'wallpaper_frost_6702335_name',
    description: 'wallpaper_frost_6702335_desc',
    imageUrl: '/wallpapers/frost-6702335.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['frost', 'ice', 'cool tones']
  },
  {
    id: 'leaves-4291098',
    name: 'wallpaper_leaves_4291098_name',
    description: 'wallpaper_leaves_4291098_desc',
    imageUrl: '/wallpapers/leaves-4291098.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['leaves', 'green', 'nature']
  },
  {
    id: 'light-1834289',
    name: 'wallpaper_light_1834289_name',
    description: 'wallpaper_light_1834289_desc',
    imageUrl: '/wallpapers/light-1834289.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'abstract',
    tags: ['light', 'bokeh', 'abstract']
  },
  {
    id: 'light-942231',
    name: 'wallpaper_light_942231_name',
    description: 'wallpaper_light_942231_desc',
    imageUrl: '/wallpapers/light-942231.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'abstract',
    tags: ['light', 'streaks', 'abstract']
  },
  {
    id: 'luck-4397584',
    name: 'wallpaper_luck_4397584_name',
    description: 'wallpaper_luck_4397584_desc',
    imageUrl: '/wallpapers/luck-4397584.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['clover', 'green', 'nature']
  },
  {
    id: 'waterdrop-2256201',
    name: 'wallpaper_waterdrop_2256201_name',
    description: 'wallpaper_waterdrop_2256201_desc',
    imageUrl: '/wallpapers/waterdrop-2256201.webp',
    config: { fit: 'cover', position: 'center', opacity: 1, blur: 0, scale: 1, offsetX: 0, offsetY: 0 },
    category: 'nature',
    tags: ['water drop', 'macro', 'nature']
  }
]

// Wallpapers organized by category
export const WALLPAPER_CATEGORIES = {
  abstract: {
    name: 'wallpaper_cat_abstract_name',
    icon: 'ðŸŽ¨',
    description: 'wallpaper_cat_abstract_desc',
    wallpapers: WALLPAPER_PRESETS.filter(w => w.category === 'abstract')
  },
  minimal: {
    name: 'wallpaper_cat_minimal_name',
    icon: 'âšª',
    description: 'wallpaper_cat_minimal_desc',
    wallpapers: WALLPAPER_PRESETS.filter(w => w.category === 'minimal')
  },
  nature: {
    name: 'wallpaper_cat_nature_name',
    icon: 'ðŸŒ¿',
    description: 'wallpaper_cat_nature_desc',
    wallpapers: WALLPAPER_PRESETS.filter(w => w.category === 'nature')
  },
  business: {
    name: 'wallpaper_cat_business_name',
    icon: 'ðŸ’¼',
    description: 'wallpaper_cat_business_desc',
    wallpapers: WALLPAPER_PRESETS.filter(w => w.category === 'business')
  },
  tech: {
    name: 'wallpaper_cat_tech_name',
    icon: 'ðŸ”¬',
    description: 'wallpaper_cat_tech_desc',
    wallpapers: WALLPAPER_PRESETS.filter(w => w.category === 'tech')
  }
}

// Get all wallpapers
export function getAllWallpapers(): ImagePreset[] {
  return WALLPAPER_PRESETS
}

// Get wallpapers by category
export function getWallpapersByCategory(category: string): ImagePreset[] {
  return WALLPAPER_PRESETS.filter(w => w.category === category)
}

// Get wallpaper by ID
export function getWallpaperById(id: string): ImagePreset | undefined {
  return WALLPAPER_PRESETS.find(w => w.id === id)
}

// Search wallpapers
export function searchWallpapers(query: string): ImagePreset[] {
  const lowerQuery = query.toLowerCase()
  return WALLPAPER_PRESETS.filter(w =>
    w.name.toLowerCase().includes(lowerQuery) ||
    w.description?.toLowerCase().includes(lowerQuery) ||
    w.tags?.some(tag => tag.toLowerCase().includes(lowerQuery))
  )
}

// Get random wallpaper
export function getRandomWallpaper(): ImagePreset {
  const randomIndex = Math.floor(Math.random() * WALLPAPER_PRESETS.length)
  return WALLPAPER_PRESETS[randomIndex]
}

// Get random wallpaper by category
export function getRandomWallpaperByCategory(category: string): ImagePreset | undefined {
  const categoryWallpapers = getWallpapersByCategory(category)
  if (categoryWallpapers.length === 0) return undefined
  const randomIndex = Math.floor(Math.random() * categoryWallpapers.length)
  return categoryWallpapers[randomIndex]
}

// Get wallpaper statistics
export function getWallpaperStats() {
  const stats = {
    total: WALLPAPER_PRESETS.length,
    byCategory: {} as Record<string, number>,
    categories: Object.keys(WALLPAPER_CATEGORIES).length
  }

  Object.entries(WALLPAPER_CATEGORIES).forEach(([key, category]) => {
    stats.byCategory[key] = category.wallpapers.length
  })

  return stats
}

// Validate wallpaper configuration
export function validateWallpaperPreset(preset: ImagePreset): { isValid: boolean; errors: string[] } {
  const errors: string[] = []

  if (!preset.id || preset.id.trim() === '') {
    errors.push('Wallpaper ID cannot be empty')
  }

  if (!preset.name || preset.name.trim() === '') {
    errors.push('Wallpaper name cannot be empty')
  }

  if (!preset.imageUrl || preset.imageUrl.trim() === '') {
    errors.push('Wallpaper image URL cannot be empty')
  }

  if (!preset.config) {
    errors.push('Wallpaper configuration cannot be empty')
  } else {
    if (!['cover', 'contain', 'fill', 'stretch'].includes(preset.config.fit)) {
      errors.push('Invalid fit mode')
    }

    if (!['center', 'top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right'].includes(preset.config.position)) {
      errors.push('Invalid position setting')
    }
  }

  return {
    isValid: errors.length === 0,
    errors
  }
}
